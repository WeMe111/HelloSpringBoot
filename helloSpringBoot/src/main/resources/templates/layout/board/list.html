<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<meta name="_csrf" th:content="${_csrf.token}">
<meta name="_csrf_header" th:content="${_csrf.headerName}">
<head th:replace="layout/header :: header" />
<body>
	<div class="container">
		<div th:replace="layout/bodyHeader2 :: bodyHeader" />
		<form class="form-inline d-flex justify-content-end" method="GET" th:action="@{/auth/board/list}">
            <div class="form-group mx-sm-3 mb-2">
                <select class="form-control" aria-label="Default select example" name="select">
					<option value="title">제목</option>
					<option value="content">내용</option>
				</select>
				<label for="search" class="sr-only">검색어 입력</label>
                <input type="search" placeholder="Search" class="form-control me-2" id="search" name="keyword" th:value="${param.keyword}">
            </div>
            <button type="submit" class="btn btn-outline-primary">Search</button>
        </form>
            
		<main  th:each="board : ${boards}" class="flex-shrink-0">
			<th:block th:if="${board.useYn == 'Y'}">
			<div class="container">
				<div class="p-2"></div>
				<div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
					<div class="col p-4 d-flex flex-column position-static">
						 <a th:href="@{/auth/board/{id}(id=${board.id})}" class="a-title">
                   			 <h3 class="mb-0 title" style="padding-bottom: 10px;" th:text="${board.title}"></h3>
                		</a>
						<div class="card-text mb-auto" th:text="${board.content}"></div>
						<div class="mb-1 text-muted" style="padding-top: 15px;" th:text="${#temporals.format(board.createdDate, 'yyyy-MM-dd')}"></div>
						<div class="mb-1 text-muted" style="padding-top: 15px;" th:text="${board.count}"></div>
					</div>
				</div>
			</div>
		</main>
		</th:block>
		<br>
		<a  class="btn btn-primary" th:href="@{/auth/board/register}">글쓰기</a>

		<nav aria-label="Page navigation example">
			<ul class="pagination justify-content-center">
			    <li class="page-item" th:classappend="${1 == boards.pageable.pageNumber + 1} ? 'disabled' : '' ">
			      <a class="page-link" th:href="@{/auth/board/list/(page=${boards.pageable.pageNumber - 1}, search=${param.search})}">Previous</a>
			    </li>
			    <li class="page-item"  th:classappend="${i == boards.pageable.pageNumber + 1} ? 'active' : '' " th:each="i : ${#numbers.sequence(startPage, endPage)}">
			      <a class="page-link" th:href="@{/auth/board/list/(page=${i - 1}, search=${param.search})}" th:text="${i}"></a>
			    </li>
			    <li class="page-item" th:classappend="${boards.totalPages == boards.pageable.pageNumber + 1} ? 'disabled' : '' ">
			      <a class="page-link" th:href="@{/auth/board/list/(page=${boards.pageable.pageNumber + 1}, search=${param.search})}">Next</a>
			    </li>
			</ul>
		</nav>
		    
	</div>
	<div th:replace="layout/footer :: footer" />
</body>
</html>
