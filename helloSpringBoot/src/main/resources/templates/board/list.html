<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/header :: header" />
<body>
	<div class="container">
		<div th:replace="layout/bodyHeader2 :: bodyHeader" />
		<div class="d-flex" style="position: relative; bottom: 10px">
			<h5 style="margin-right: 10px;">총 건수:</h5>
			<h5 th:text="${boards.totalElements}"></h5>
		</div>
		<form class="d-flex" style="position: relative;" method="get" th:action="@{/board/list/}">
			<select class="form-control">
				<option value="${title}">제목</option>
				<option value="${content}">내용</option>
				<option value="${writer}">작성자</option>
				<option value="">제목+내용+작성자</option>
			</select>
		    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"
		           id="search" name="search" th:value="${param.search}">
		    <button class="btn btn-outline-primary" type="submit">Search</button>
		</form>
		
		<!--<form class="row g-3 container text-center" style="margin-top: 100px;" action="/board/search" method="get">
    <div class="col-auto" >
        <select class="form-select" style="width:100px;height:40px; display:inline;" name="type">
            <option value="boardTitle">제목</option>
            <option value="boardWriter">작성자</option>
        </select>
    </div>

    <div class="col-auto">
        <input class="form-control"  type="text" name="keyword">
    </div>

    <div class="col-auto">
        <input class="form-control"  type="submit" value="검색">
    </div>
</form>-->
		<div style="position: relative; top: 10px;">
			<table class="table table-striped">
			<input type="hidden" name="_method" value="put"/>
				<thead>
					<tr>
						<th>번호</th>
						<th>제목</th>
						<th>작성자</th>
						<th>등록일</th>
						<th>조회수</th>
						<th>파일유무</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="boardDto : ${boardDto}">
						<td th:text="${boardDto.idb}"></td>
						<td><a th:href="@{'/board/detail/' + ${boardDto.idb}}"><span th:text="${boardDto.title}"></span></a></td>
						<td th:text="${boardDto.writer}"></td>
						<td th:text="${boardDto.createDate}"></td>
						<td th:text="${boardDto.count}"></td>
						<td><img th:if="${boardDto.attachCount != 0}" src="/images/file_icon.png" style="width:20px; height:auto; vertical-align: center; "/></td>
					</tr>
				</tbody>
			</table>
			<a  class="btn btn-primary" th:href="@{/board/register}">글쓰기</a>
			<nav aria-label="Page navigation example">
			  	<ul class="pagination justify-content-center">
			    <li class="page-item" th:classappend="${1 == boards.pageable.pageNumber + 1} ? 'disabled' : '' ">
			      <a class="page-link" th:href="@{/board/list/(page=${boards.pageable.pageNumber - 1}, search=${param.search})}">Previous</a>
			    </li>
			    <li class="page-item"  th:classappend="${i == boards.pageable.pageNumber + 1} ? 'active' : '' " th:each="i : ${#numbers.sequence(startPage, endPage)}">
			      <a class="page-link" th:href="@{/board/list/(page=${i - 1}, search=${param.search})}" th:text="${i}">1</a>
			    </li>
			    <li class="page-item" th:classappend="${boards.totalPages == boards.pageable.pageNumber + 1} ? 'disabled' : '' ">
			      <a class="page-link" th:href="@{/board/list/(page=${boards.pageable.pageNumber + 1}, search=${param.search})}">Next</a>
			    </li>
			  </ul>
		    </nav>
		</div>
		<div th:replace="layout/footer :: footer" />
	</div>
</body>
</html>
